{
    "sourceFile": "User/Log-in.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 111,
            "patches": [
                {
                    "date": 1680378580601,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1680378648825,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-<?php\n+<!-- <?php\n     session_start();\n \n     if (isset($_SESSION['role'])){\n     $usrRole = $_SESSION[\"role\"];\n@@ -15,9 +15,9 @@\n     }\n \n     session_write_close();\n     }\n-?>\n+?> -->\n \n <!DOCTYPE html>\n <html style=\"font-size: 16px;\" lang=\"en\">\n \n"
                },
                {
                    "date": 1680378659113,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-<!-- <?php\n+<?php\n     session_start();\n \n     if (isset($_SESSION['role'])){\n     $usrRole = $_SESSION[\"role\"];\n@@ -15,9 +15,9 @@\n     }\n \n     session_write_close();\n     }\n-?> -->\n+?>\n \n <!DOCTYPE html>\n <html style=\"font-size: 16px;\" lang=\"en\">\n \n"
                },
                {
                    "date": 1680380209138,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,9 +57,9 @@\n     const success_id = urlParams.get('success_id');\n     const heading = document.getElementById('status');\n     if (success_id == 1) {\n       heading.innerHTML =\n-        'Could not find an account associated with that username. Sign up <u><b><a href=\"../html/sign-up.html\">here.</a></b></u>';\n+        'Could not find an account associated with that username. Sign up <u><b><a href=\"../html/sign-up.php\">here.</a></b></u>';\n     } else if (success_id == 2) {\n       heading.innerHTML = 'The password entered is incorrect. Please try again.';\n     } else if (success_id == 3) {\n       heading.innerHTML = 'Something went wrong. Please try again later.';\n"
                },
                {
                    "date": 1680380243257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,13 +92,13 @@\n         <div class=\"u-custom-menu u-nav-container\">\n           <ul class=\"u-nav u-spacing-20 u-unstyled u-nav-1\">\n             <li class=\"u-nav-item\"><a\n                 class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"../Home.html\" style=\"padding: 10px;\">Home</a>\n+                href=\"../index.html\" style=\"padding: 10px;\">Home</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"../About.html\" style=\"padding: 10px;\">About</a>\n+                href=\"./Appointment.php\" style=\"padding: 10px;\">Appointment</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                 href=\"../Contact.html\" style=\"padding: 10px;\">Contact</a>\n"
                },
                {
                    "date": 1680380249081,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,9 +100,9 @@\n                 href=\"./Appointment.php\" style=\"padding: 10px;\">Appointment</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"../Contact.html\" style=\"padding: 10px;\">Contact</a>\n+                href=\"../Schedule.php\" style=\"padding: 10px;\">Contact</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                 href=\"Log-in.html\" style=\"padding: 10px;\">Log in</a>\n"
                },
                {
                    "date": 1680380259384,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,17 +100,17 @@\n                 href=\"./Appointment.php\" style=\"padding: 10px;\">Appointment</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"../Schedule.php\" style=\"padding: 10px;\">Contact</a>\n+                href=\"../Schedule.php\" style=\"padding: 10px;\">Schedule</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"Log-in.html\" style=\"padding: 10px;\">Log in</a>\n+                href=\"Log-in.php\" style=\"padding: 10px;\">Log in</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"Register.html\" style=\"padding: 10px;\">Register</a>\n+                href=\"Register.php\" style=\"padding: 10px;\">Register</a>\n             </li>\n           </ul>\n         </div>\n         <div class=\"u-custom-menu u-nav-container-collapse\">\n"
                },
                {
                    "date": 1680380293926,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,25 +108,25 @@\n                 href=\"Log-in.php\" style=\"padding: 10px;\">Log in</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"Register.php\" style=\"padding: 10px;\">Register</a>\n+                href=\"./Register.php\" style=\"padding: 10px;\">Register</a>\n             </li>\n           </ul>\n         </div>\n         <div class=\"u-custom-menu u-nav-container-collapse\">\n           <div class=\"u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav\">\n             <div class=\"u-inner-container-layout u-sidenav-overflow\">\n               <div class=\"u-menu-close\"></div>\n               <ul class=\"u-align-center u-nav u-popupmenu-items u-spacing-23 u-unstyled u-nav-2\">\n-                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Home.html\"\n+                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../index.html\"\n                     style=\"padding-top: 22px; padding-bottom: 22px;\">Home</a>\n                 </li>\n-                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../About.html\"\n-                    style=\"padding-top: 22px; padding-bottom: 22px;\">About</a>\n+                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Appointment.php\"\n+                    style=\"padding-top: 22px; padding-bottom: 22px;\">Appointment</a>\n                 </li>\n-                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Contact.html\"\n-                    style=\"padding-top: 22px; padding-bottom: 22px;\">Contact</a>\n+                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Schedule.php\"\n+                    style=\"padding-top: 22px; padding-bottom: 22px;\">Schedule</a>\n                 </li>\n                 <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"Log-in.html\"\n                     style=\"padding-top: 22px; padding-bottom: 22px;\">Log in</a>\n                 </li>\n"
                },
                {
                    "date": 1680380303620,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,12 +126,12 @@\n                 </li>\n                 <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Schedule.php\"\n                     style=\"padding-top: 22px; padding-bottom: 22px;\">Schedule</a>\n                 </li>\n-                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"Log-in.html\"\n+                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"Log-in.php\"\n                     style=\"padding-top: 22px; padding-bottom: 22px;\">Log in</a>\n                 </li>\n-                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"Register.html\"\n+                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"./Register.php\"\n                     style=\"padding-top: 22px; padding-bottom: 22px;\">Register</a>\n                 </li>\n               </ul>\n             </div>\n"
                },
                {
                    "date": 1680380321111,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,13 +163,13 @@\n         <div class=\"u-nav-container\">\n           <ul class=\"u-nav u-spacing-10 u-unstyled u-nav-3\">\n             <li class=\"u-nav-item\"><a\n                 class=\"u-border-no-bottom u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"../Home.html\" style=\"padding: 26px 34px;\">Home</a>\n+                href=\"../index.html\" style=\"padding: 26px 34px;\">Home</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-border-no-bottom u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"../About.html\" style=\"padding: 26px 34px;\">About</a>\n+                href=\"../Appointment.php\" style=\"padding: 26px 34px;\">Appointment</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-border-no-bottom u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                 href=\"../Contact.html\" style=\"padding: 26px 34px;\">Contact</a>\n"
                },
                {
                    "date": 1680380332903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -167,13 +167,13 @@\n                 href=\"../index.html\" style=\"padding: 26px 34px;\">Home</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-border-no-bottom u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"../Appointment.php\" style=\"padding: 26px 34px;\">Appointment</a>\n+                href=\"./Appointment.php\" style=\"padding: 26px 34px;\">Appointment</a>\n             </li>\n             <li class=\"u-nav-item\"><a\n                 class=\"u-border-no-bottom u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n-                href=\"../Contact.html\" style=\"padding: 26px 34px;\">Contact</a>\n+                href=\"./Schedule.php\" style=\"padding: 26px 34px;\">Schedule</a>\n             </li>\n           </ul>\n         </div>\n         <div class=\"u-nav-container-collapse\">\n"
                },
                {
                    "date": 1680380370972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,12 +120,12 @@\n               <ul class=\"u-align-center u-nav u-popupmenu-items u-spacing-23 u-unstyled u-nav-2\">\n                 <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../index.html\"\n                     style=\"padding-top: 22px; padding-bottom: 22px;\">Home</a>\n                 </li>\n-                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Appointment.php\"\n+                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"./Appointment.php\"\n                     style=\"padding-top: 22px; padding-bottom: 22px;\">Appointment</a>\n                 </li>\n-                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Schedule.php\"\n+                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"./Schedule.php\"\n                     style=\"padding-top: 22px; padding-bottom: 22px;\">Schedule</a>\n                 </li>\n                 <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"Log-in.php\"\n                     style=\"padding-top: 22px; padding-bottom: 22px;\">Log in</a>\n@@ -180,13 +180,13 @@\n           <div class=\"u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav\">\n             <div class=\"u-inner-container-layout u-sidenav-overflow\">\n               <div class=\"u-menu-close\"></div>\n               <ul class=\"u-align-center u-nav u-popupmenu-items u-unstyled u-nav-4\">\n-                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Home.html\">Home</a>\n+                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../index.html\">Home</a>\n                 </li>\n-                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../About.html\">About</a>\n+                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"./Appointment.php\">Appointment</a>\n                 </li>\n-                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Contact.html\">Contact</a>\n+                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"./Schedule.php\">Schedule</a>\n                 </li>\n               </ul>\n             </div>\n           </div>\n"
                },
                {
                    "date": 1680383487339,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n     {\n       \"@context\": \"http://schema.org\",\n       \"@type\": \"Organization\",\n       \"name\": \"OMS_v1\",\n-      \"logo\": \"../images/Screenshot2023-03-19at12.17.37PM.png\"\n+      \"logo\": \"../images/logo.png\"\n     }\n   </script>\n   <meta name=\"theme-color\" content=\"#93bfcb\">\n   <meta property=\"og:title\" content=\"Log in\">\n"
                },
                {
                    "date": 1680383494892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,9 @@\n         </div>\n       </nav>\n       <a href=\"https://nicepage.com/c/testimonials-html-templates\" class=\"u-image u-logo u-image-1\"\n         data-image-width=\"618\" data-image-height=\"58\">\n-        <img src=\"../images/Screenshot2023-03-19at12.17.37PM.png\" class=\"u-logo-image u-logo-image-1\">\n+        <img src=\"../images/logo.png\" class=\"u-logo-image u-logo-image-1\">\n       </a>\n       <nav class=\"u-hidden-md u-hidden-sm u-hidden-xs u-menu u-menu-one-level u-offcanvas u-menu-2\">\n         <div class=\"menu-collapse\" style=\"font-size: 2.25rem; letter-spacing: 0px; font-weight: 700;\">\n           <a class=\"u-button-style u-custom-border u-custom-border-color u-custom-borders u-custom-left-right-menu-spacing u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link\"\n"
                },
                {
                    "date": 1680383514160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -193,9 +193,9 @@\n           <div class=\"u-black u-menu-overlay u-opacity u-opacity-70\"></div>\n         </div>\n       </nav><span\n         class=\"u-file-icon u-hidden-md u-hidden-sm u-hidden-xs u-hover-feature u-icon u-text-palette-1-dark-2 u-icon-1\"\n-        data-href=\"Register.html\" title=\"Register\"><img src=\"../images/3033143-7d7b5140.png\" alt=\"\"></span>\n+        data-href=\"Register.html\" title=\"Register\"><img src=\"../images/register.png\" alt=\"\"></span>\n     </div>\n   </header>\n   <section class=\"u-clearfix u-section-1\" id=\"sec-980c\">\n     <div class=\"u-clearfix u-sheet u-valign-middle u-sheet-1\">\n"
                },
                {
                    "date": 1680383523955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -193,9 +193,9 @@\n           <div class=\"u-black u-menu-overlay u-opacity u-opacity-70\"></div>\n         </div>\n       </nav><span\n         class=\"u-file-icon u-hidden-md u-hidden-sm u-hidden-xs u-hover-feature u-icon u-text-palette-1-dark-2 u-icon-1\"\n-        data-href=\"Register.html\" title=\"Register\"><img src=\"../images/register.png\" alt=\"\"></span>\n+        data-href=\"Register.html\" title=\"Register\"><img src=\"../images/signup.png\" alt=\"\"></span>\n     </div>\n   </header>\n   <section class=\"u-clearfix u-section-1\" id=\"sec-980c\">\n     <div class=\"u-clearfix u-sheet u-valign-middle u-sheet-1\">\n"
                },
                {
                    "date": 1680383533812,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,9 +200,9 @@\n   <section class=\"u-clearfix u-section-1\" id=\"sec-980c\">\n     <div class=\"u-clearfix u-sheet u-valign-middle u-sheet-1\">\n       <div class=\"u-align-center u-container-style u-grey-10 u-group u-radius-50 u-shape-round u-group-1\">\n         <div class=\"u-container-layout u-container-layout-1\"><span\n-            class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/552721-98e7fb98.png\"\n+            class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/login.png\"\n               alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n             <form action=\"#\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n"
                },
                {
                    "date": 1680383572337,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,9 +200,9 @@\n   <section class=\"u-clearfix u-section-1\" id=\"sec-980c\">\n     <div class=\"u-clearfix u-sheet u-valign-middle u-sheet-1\">\n       <div class=\"u-align-center u-container-style u-grey-10 u-group u-radius-50 u-shape-round u-group-1\">\n         <div class=\"u-container-layout u-container-layout-1\"><span\n-            class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/login.png\"\n+            class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/user.png\"\n               alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n             <form action=\"#\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n"
                },
                {
                    "date": 1680383582263,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,9 +200,9 @@\n   <section class=\"u-clearfix u-section-1\" id=\"sec-980c\">\n     <div class=\"u-clearfix u-sheet u-valign-middle u-sheet-1\">\n       <div class=\"u-align-center u-container-style u-grey-10 u-group u-radius-50 u-shape-round u-group-1\">\n         <div class=\"u-container-layout u-container-layout-1\"><span\n-            class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/user.png\"\n+            class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/dark_user.png\"\n               alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n             <form action=\"#\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n"
                },
                {
                    "date": 1680383672541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,67 @@\n <?php\n-    session_start();\n+<?php\n+session_start();\n \n-    if (isset($_SESSION['role'])){\n-    $usrRole = $_SESSION[\"role\"];\n-    $admin = \"admin\";\n-    $user = \"user\";\n+require_once \"Auth.php\";\n+require_once \"Util.php\";\n \n-    if ((strcmp($usrRole, $admin)) == 0){\n-      header(\"Location:Log-in.php\");\n-    }\n+$auth = new Auth();\n+$db_handle = new DBController();\n+$util = new Util();\n \n-    if ((strcmp($usrRole, $user)) == 0){\n-      header(\"Location:user.php\");\n-    }\n+require_once \"authCookieSessionValidate.php\";\n \n-    session_write_close();\n+if ($isLoggedIn) {\n+    $util->redirect(\"dashboard.php\");\n+}\n+\n+if (! empty($_POST[\"login\"])) {\n+    $isAuthenticated = false;\n+    \n+    $username = $_POST[\"member_name\"];\n+    $password = $_POST[\"member_password\"];\n+    \n+    $user = $auth->getMemberByUsername($username);\n+    if (password_verify($password, $user[0][\"member_password\"])) {\n+        $isAuthenticated = true;\n     }\n+    \n+    if ($isAuthenticated) {\n+        $_SESSION[\"member_id\"] = $user[0][\"member_id\"];\n+        \n+        // Set Auth Cookies if 'Remember Me' checked\n+        if (! empty($_POST[\"remember\"])) {\n+            setcookie(\"member_login\", $username, $cookie_expiration_time);\n+            \n+            $random_password = $util->getToken(16);\n+            setcookie(\"random_password\", $random_password, $cookie_expiration_time);\n+            \n+            $random_selector = $util->getToken(32);\n+            setcookie(\"random_selector\", $random_selector, $cookie_expiration_time);\n+            \n+            $random_password_hash = password_hash($random_password, PASSWORD_DEFAULT);\n+            $random_selector_hash = password_hash($random_selector, PASSWORD_DEFAULT);\n+            \n+            $expiry_date = date(\"Y-m-d H:i:s\", $cookie_expiration_time);\n+            \n+            // mark existing token as expired\n+            $userToken = $auth->getTokenByUsername($username, 0);\n+            if (! empty($userToken[0][\"id\"])) {\n+                $auth->markAsExpired($userToken[0][\"id\"]);\n+            }\n+            // Insert new token\n+            $auth->insertToken($username, $random_password_hash, $random_selector_hash, $expiry_date);\n+        } else {\n+            $util->clearAuthCookie();\n+        }\n+        $util->redirect(\"dashboard.php\");\n+    } else {\n+        $message = \"Invalid Login\";\n+    }\n+}\n ?>\n+?>\n \n <!DOCTYPE html>\n <html style=\"font-size: 16px;\" lang=\"en\">\n \n"
                },
                {
                    "date": 1680383680294,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,5 @@\n <?php\n-<?php\n session_start();\n \n require_once \"Auth.php\";\n require_once \"Util.php\";\n"
                },
                {
                    "date": 1680383995777,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,67 +1,6 @@\n-<?php\n-session_start();\n \n-require_once \"Auth.php\";\n-require_once \"Util.php\";\n \n-$auth = new Auth();\n-$db_handle = new DBController();\n-$util = new Util();\n-\n-require_once \"authCookieSessionValidate.php\";\n-\n-if ($isLoggedIn) {\n-    $util->redirect(\"dashboard.php\");\n-}\n-\n-if (! empty($_POST[\"login\"])) {\n-    $isAuthenticated = false;\n-    \n-    $username = $_POST[\"member_name\"];\n-    $password = $_POST[\"member_password\"];\n-    \n-    $user = $auth->getMemberByUsername($username);\n-    if (password_verify($password, $user[0][\"member_password\"])) {\n-        $isAuthenticated = true;\n-    }\n-    \n-    if ($isAuthenticated) {\n-        $_SESSION[\"member_id\"] = $user[0][\"member_id\"];\n-        \n-        // Set Auth Cookies if 'Remember Me' checked\n-        if (! empty($_POST[\"remember\"])) {\n-            setcookie(\"member_login\", $username, $cookie_expiration_time);\n-            \n-            $random_password = $util->getToken(16);\n-            setcookie(\"random_password\", $random_password, $cookie_expiration_time);\n-            \n-            $random_selector = $util->getToken(32);\n-            setcookie(\"random_selector\", $random_selector, $cookie_expiration_time);\n-            \n-            $random_password_hash = password_hash($random_password, PASSWORD_DEFAULT);\n-            $random_selector_hash = password_hash($random_selector, PASSWORD_DEFAULT);\n-            \n-            $expiry_date = date(\"Y-m-d H:i:s\", $cookie_expiration_time);\n-            \n-            // mark existing token as expired\n-            $userToken = $auth->getTokenByUsername($username, 0);\n-            if (! empty($userToken[0][\"id\"])) {\n-                $auth->markAsExpired($userToken[0][\"id\"]);\n-            }\n-            // Insert new token\n-            $auth->insertToken($username, $random_password_hash, $random_selector_hash, $expiry_date);\n-        } else {\n-            $util->clearAuthCookie();\n-        }\n-        $util->redirect(\"dashboard.php\");\n-    } else {\n-        $message = \"Invalid Login\";\n-    }\n-}\n-?>\n-?>\n-\n <!DOCTYPE html>\n <html style=\"font-size: 16px;\" lang=\"en\">\n \n <head>\n"
                },
                {
                    "date": 1680384217023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,9 +210,9 @@\n               </div>\n               <input type=\"hidden\" value=\"\" name=\"recaptchaResponse\">\n             </form>\n           </div>\n-          <a href=\"\"\n+          <a href=\"./findback.php\"\n             class=\"u-border-1 u-border-active-palette-2-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-btn u-button-style u-login-control u-login-forgot-password u-none u-text-palette-1-dark-1 u-btn-2\">Forgot\n             password?</a>\n         </div>\n       </div>\n"
                },
                {
                    "date": 1680384225503,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,9 +210,9 @@\n               </div>\n               <input type=\"hidden\" value=\"\" name=\"recaptchaResponse\">\n             </form>\n           </div>\n-          <a href=\"./findback.php\"\n+          <a href=\"./Findback.php\"\n             class=\"u-border-1 u-border-active-palette-2-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-btn u-button-style u-login-control u-login-forgot-password u-none u-text-palette-1-dark-1 u-btn-2\">Forgot\n             password?</a>\n         </div>\n       </div>\n"
                },
                {
                    "date": 1680384267957,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,4 @@\n-\n-\n <!DOCTYPE html>\n <html style=\"font-size: 16px;\" lang=\"en\">\n \n <head>\n"
                },
                {
                    "date": 1680384409889,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,10 +180,9 @@\n   <section class=\"u-clearfix u-section-1\" id=\"sec-980c\">\n     <div class=\"u-clearfix u-sheet u-valign-middle u-sheet-1\">\n       <div class=\"u-align-center u-container-style u-grey-10 u-group u-radius-50 u-shape-round u-group-1\">\n         <div class=\"u-container-layout u-container-layout-1\"><span\n-            class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/dark_user.png\"\n-              alt=\"\"></span>\n+            class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/dark_user.png\" alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n             <form action=\"#\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n               source=\"custom\" name=\"form-3\" style=\"padding: 10px;\">\n"
                },
                {
                    "date": 1680384716160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,8 @@\n   <link rel=\"stylesheet\" href=\"../css/nicepage.css\" media=\"screen\">\n   <link rel=\"stylesheet\" href=\"../css/Log-in.css\" media=\"screen\">\n   <script class=\"u-script\" type=\"text/javascript\" src=\"../js/jquery.js\" defer=\"\"></script>\n   <script class=\"u-script\" type=\"text/javascript\" src=\"../js/nicepage.js\" defer=\"\"></script>\n-  <meta name=\"generator\" content=\"Nicepage 5.6.16, nicepage.com\">\n   <link id=\"u-theme-google-font\" rel=\"stylesheet\"\n     href=\"https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i\">\n \n   <script type=\"application/ld+json\">\n"
                },
                {
                    "date": 1680384857657,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,8 @@\n   <meta property=\"og:description\" content=\"\">\n   <meta property=\"og:type\" content=\"website\">\n   <meta data-intl-tel-input-cdn-path=\"intlTelInput/\">\n </head>\n-\n <body class=\"u-body u-xl-mode\" data-lang=\"en\">\n   <script>\n     const queryString = window.location.search;\n     const urlParams = new URLSearchParams(queryString);\n"
                },
                {
                    "date": 1680385129697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n \n <head>\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n   <meta charset=\"utf-8\">\n-  <meta name=\"keywords\" content=\"\">\n+  <meta name=\"keywords\" content=\"Log in\">\n   <meta name=\"description\" content=\"\">\n   <title>Log in</title>\n   <link rel=\"stylesheet\" href=\"../css/nicepage.css\" media=\"screen\">\n   <link rel=\"stylesheet\" href=\"../css/Log-in.css\" media=\"screen\">\n"
                },
                {
                    "date": 1680385147205,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n <head>\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n   <meta charset=\"utf-8\">\n   <meta name=\"keywords\" content=\"Log in\">\n-  <meta name=\"description\" content=\"\">\n+  <meta name=\"description\" content=\"Log in online medical system through username and password\">\n   <title>Log in</title>\n   <link rel=\"stylesheet\" href=\"../css/nicepage.css\" media=\"screen\">\n   <link rel=\"stylesheet\" href=\"../css/Log-in.css\" media=\"screen\">\n   <script class=\"u-script\" type=\"text/javascript\" src=\"../js/jquery.js\" defer=\"\"></script>\n"
                },
                {
                    "date": 1680385281298,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,17 +12,8 @@\n   <script class=\"u-script\" type=\"text/javascript\" src=\"../js/jquery.js\" defer=\"\"></script>\n   <script class=\"u-script\" type=\"text/javascript\" src=\"../js/nicepage.js\" defer=\"\"></script>\n   <link id=\"u-theme-google-font\" rel=\"stylesheet\"\n     href=\"https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i\">\n-\n-  <script type=\"application/ld+json\">\n-    {\n-      \"@context\": \"http://schema.org\",\n-      \"@type\": \"Organization\",\n-      \"name\": \"OMS_v1\",\n-      \"logo\": \"../images/logo.png\"\n-    }\n-  </script>\n   <meta name=\"theme-color\" content=\"#93bfcb\">\n   <meta property=\"og:title\" content=\"Log in\">\n   <meta property=\"og:description\" content=\"\">\n   <meta property=\"og:type\" content=\"website\">\n"
                },
                {
                    "date": 1680392946998,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,9 @@\n   <meta property=\"og:description\" content=\"\">\n   <meta property=\"og:type\" content=\"website\">\n   <meta data-intl-tel-input-cdn-path=\"intlTelInput/\">\n </head>\n+\n <body class=\"u-body u-xl-mode\" data-lang=\"en\">\n   <script>\n     const queryString = window.location.search;\n     const urlParams = new URLSearchParams(queryString);\n"
                },
                {
                    "date": 1680392967911,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -223,6 +223,79 @@\n     </a>.\n   </section>\n \n </body>\n+<?php\n+  if(isset($_POST[\"submit\"])) {\n \n+    mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n+    // Create connection\n+    $mysqli = new mysqli(\"localhost\",\"root\",\"hsuanmacair\",\"oms\", 3306);\n+\n+    // Check connection\n+    if ($mysqli -> connect_errno) {\n+      echo \"Failed to connect to MySQL: \" . $mysqli -> connect_error;\n+      exit();\n+    }\n+\n+    $firstName = $_POST['firstName'];\n+    $middleName = $_POST['middleName'];\n+    $lastName = $_POST['lastName'];\n+    $phone = $_POST['phone'];\n+    $email = $_POST['email'];\n+    $userName = $_POST['username'];\n+    $passwd = $_POST['password'];\n+    $confpasswd = $_POST['confirm-password'];\n+\n+    $success_id = 0;\n+    // 0 = default\n+    // 1 = sucess, redirect to Login\n+    // 2 = already signed up\n+    // 3 = username is taken\n+    // 4 = password doesn't match\n+    // 5 = something went wrong\n+\n+\n+    $existcheck = $mysqli->query(\"SELECT `phone` FROM (SELECT DISTINCT `phone` FROM Paccount UNION SELECT DISTINCT `phone` FROM Daccount) AS users WHERE `phone` = '{$phone}';\");\n+    // $check = $existcheck -> num_rows;\n+    echo \"<script>alert('{$middleName}.{$lastName}')</script>\";\n+    // checking if account exists\n+    if ($existcheck -> num_rows < 1){\n+\n+      //checking if username is taken\n+      $usercheck = $mysqli->query(\"SELECT `userName` FROM (SELECT DISTINCT `userName` FROM Paccount UNION SELECT DISTINCT `userName` FROM Daccount) AS users WHERE `userName` = '{$userName}';\");\n+      // $check = $usercheck -> num_rows;\n+      // echo \"<script>alert('{$check}')</script>\";\n+      if ($usercheck -> num_rows < 1){\n+        // checking if passwords match\n+        if (strcmp($passwd, $confpasswd) == 0){\n+          echo \"<script>alert(check correct)</script>\";\n+\n+          $sql = \"INSERT INTO Paccount (`PID`, `firstName`, `middleName`, `lastName`, `phone`, `email`)\n+                  VALUES ('', '{$firstName}', '{$middleName}', '{$lastName}', '{$phone}', '{$email}');\";\n+          $result = $mysqli->query($sql);\n+          // checking to see if sign up is complete\n+          if ($result) {\n+            $success_id = 1; // successful signup\n+          } else {\n+            $success_id = 5; // something went wrong\n+            echo \"<script>alert('Oops! Something went wrong, please check again or contact us!')</script>\";\n+          }\n+        } else {\n+          $success_id = 4;\n+          echo \"<script>alert('Two password doesn't match!')</script>\";\n+        }\n+      } else {\n+        $success_id = 3;\n+        echo \"<script>alert('Phone number already exists!')</script>\";\n+      }\n+    } else {\n+      $success_id = 2;\n+      echo \"<script>alert('Username already exists!')</script>\";\n+    }\n+    // echo \"<script>alert('{$success_id}')</script>\";\n+    header(\"Location: ../User/Register.php?success_id=\" . $success_id . \"\");\n+\n+    $conn->close();\n+}\n+?>\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1680393063171,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,16 +236,10 @@\n       echo \"Failed to connect to MySQL: \" . $mysqli -> connect_error;\n       exit();\n     }\n \n-    $firstName = $_POST['firstName'];\n-    $middleName = $_POST['middleName'];\n-    $lastName = $_POST['lastName'];\n-    $phone = $_POST['phone'];\n-    $email = $_POST['email'];\n     $userName = $_POST['username'];\n     $passwd = $_POST['password'];\n-    $confpasswd = $_POST['confirm-password'];\n \n     $success_id = 0;\n     // 0 = default\n     // 1 = sucess, redirect to Login\n"
                },
                {
                    "date": 1680393070788,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,8 +236,9 @@\n       echo \"Failed to connect to MySQL: \" . $mysqli -> connect_error;\n       exit();\n     }\n \n+    \n     $userName = $_POST['username'];\n     $passwd = $_POST['password'];\n \n     $success_id = 0;\n"
                },
                {
                    "date": 1680393081870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,9 +236,9 @@\n       echo \"Failed to connect to MySQL: \" . $mysqli -> connect_error;\n       exit();\n     }\n \n-    \n+    // Form information\n     $userName = $_POST['username'];\n     $passwd = $_POST['password'];\n \n     $success_id = 0;\n"
                },
                {
                    "date": 1680393111553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,14 +249,8 @@\n     // 4 = password doesn't match\n     // 5 = something went wrong\n \n \n-    $existcheck = $mysqli->query(\"SELECT `phone` FROM (SELECT DISTINCT `phone` FROM Paccount UNION SELECT DISTINCT `phone` FROM Daccount) AS users WHERE `phone` = '{$phone}';\");\n-    // $check = $existcheck -> num_rows;\n-    echo \"<script>alert('{$middleName}.{$lastName}')</script>\";\n-    // checking if account exists\n-    if ($existcheck -> num_rows < 1){\n-\n       //checking if username is taken\n       $usercheck = $mysqli->query(\"SELECT `userName` FROM (SELECT DISTINCT `userName` FROM Paccount UNION SELECT DISTINCT `userName` FROM Daccount) AS users WHERE `userName` = '{$userName}';\");\n       // $check = $usercheck -> num_rows;\n       // echo \"<script>alert('{$check}')</script>\";\n@@ -290,7 +284,6 @@\n     // echo \"<script>alert('{$success_id}')</script>\";\n     header(\"Location: ../User/Register.php?success_id=\" . $success_id . \"\");\n \n     $conn->close();\n-}\n ?>\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1680393134339,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -250,9 +250,9 @@\n     // 5 = something went wrong\n \n \n       //checking if username is taken\n-      $usercheck = $mysqli->query(\"SELECT `userName` FROM (SELECT DISTINCT `userName` FROM Paccount UNION SELECT DISTINCT `userName` FROM Daccount) AS users WHERE `userName` = '{$userName}';\");\n+      $usercheck = $mysqli->query(\"SELECT * FROM (SELECT DISTINCT `userName` FROM Paccount UNION SELECT DISTINCT `userName` FROM Daccount) AS users WHERE `userName` = '{$userName}';\");\n       // $check = $usercheck -> num_rows;\n       // echo \"<script>alert('{$check}')</script>\";\n       if ($usercheck -> num_rows < 1){\n         // checking if passwords match\n"
                },
                {
                    "date": 1680393156050,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -250,9 +250,9 @@\n     // 5 = something went wrong\n \n \n       //checking if username is taken\n-      $usercheck = $mysqli->query(\"SELECT * FROM (SELECT DISTINCT `userName` FROM Paccount UNION SELECT DISTINCT `userName` FROM Daccount) AS users WHERE `userName` = '{$userName}';\");\n+      $usercheck = $mysqli->query(\"SELECT * FROM \");\n       // $check = $usercheck -> num_rows;\n       // echo \"<script>alert('{$check}')</script>\";\n       if ($usercheck -> num_rows < 1){\n         // checking if passwords match\n"
                },
                {
                    "date": 1680393173075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -250,9 +250,9 @@\n     // 5 = something went wrong\n \n \n       //checking if username is taken\n-      $usercheck = $mysqli->query(\"SELECT * FROM \");\n+      $usercheck = $mysqli->query(\"SELECT * FROM Paccount\");\n       // $check = $usercheck -> num_rows;\n       // echo \"<script>alert('{$check}')</script>\";\n       if ($usercheck -> num_rows < 1){\n         // checking if passwords match\n"
                },
                {
                    "date": 1680393869735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -250,9 +250,9 @@\n     // 5 = something went wrong\n \n \n       //checking if username is taken\n-      $usercheck = $mysqli->query(\"SELECT * FROM Paccount\");\n+      $usercheck = $mysqli->query(\"SELECT * FROM Paccount WHERE `username\");\n       // $check = $usercheck -> num_rows;\n       // echo \"<script>alert('{$check}')</script>\";\n       if ($usercheck -> num_rows < 1){\n         // checking if passwords match\n"
                },
                {
                    "date": 1680393878423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -250,9 +250,12 @@\n     // 5 = something went wrong\n \n \n       //checking if username is taken\n-      $usercheck = $mysqli->query(\"SELECT * FROM Paccount WHERE `username\");\n+      $usercheck = $mysqli->query(\"SELECT * FROM Paccount\n+      WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n+      SELECT * FROM Daccount \n+      WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n       // $check = $usercheck -> num_rows;\n       // echo \"<script>alert('{$check}')</script>\";\n       if ($usercheck -> num_rows < 1){\n         // checking if passwords match\n"
                },
                {
                    "date": 1680393902686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -250,11 +250,12 @@\n     // 5 = something went wrong\n \n \n       //checking if username is taken\n-      $usercheck = $mysqli->query(\"SELECT * FROM Paccount\n+      $usercheck = $mysqli->query(\"\n+      SELECT * FROM `Paccount`\n       WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n-      SELECT * FROM Daccount \n+      SELECT * FROM `Daccount` \n       WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n       // $check = $usercheck -> num_rows;\n       // echo \"<script>alert('{$check}')</script>\";\n       if ($usercheck -> num_rows < 1){\n"
                },
                {
                    "date": 1680393913425,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -257,9 +257,9 @@\n       SELECT * FROM `Daccount` \n       WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n       // $check = $usercheck -> num_rows;\n       // echo \"<script>alert('{$check}')</script>\";\n-      if ($usercheck -> num_rows < 1){\n+      if ($usercheck -> num_rows > 0){\n         // checking if passwords match\n         if (strcmp($passwd, $confpasswd) == 0){\n           echo \"<script>alert(check correct)</script>\";\n \n"
                },
                {
                    "date": 1680393931357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,10 +255,9 @@\n       SELECT * FROM `Paccount`\n       WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n       SELECT * FROM `Daccount` \n       WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n-      // $check = $usercheck -> num_rows;\n-      // echo \"<script>alert('{$check}')</script>\";\n+      // if the user is registered\n       if ($usercheck -> num_rows > 0){\n         // checking if passwords match\n         if (strcmp($passwd, $confpasswd) == 0){\n           echo \"<script>alert(check correct)</script>\";\n"
                },
                {
                    "date": 1680393983692,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -257,15 +257,9 @@\n       SELECT * FROM `Daccount` \n       WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n       // if the user is registered\n       if ($usercheck -> num_rows > 0){\n-        // checking if passwords match\n-        if (strcmp($passwd, $confpasswd) == 0){\n-          echo \"<script>alert(check correct)</script>\";\n-\n-          $sql = \"INSERT INTO Paccount (`PID`, `firstName`, `middleName`, `lastName`, `phone`, `email`)\n-                  VALUES ('', '{$firstName}', '{$middleName}', '{$lastName}', '{$phone}', '{$email}');\";\n-          $result = $mysqli->query($sql);\n+        \n           // checking to see if sign up is complete\n           if ($result) {\n             $success_id = 1; // successful signup\n           } else {\n@@ -283,10 +277,9 @@\n     } else {\n       $success_id = 2;\n       echo \"<script>alert('Username already exists!')</script>\";\n     }\n-    // echo \"<script>alert('{$success_id}')</script>\";\n-    header(\"Location: ../User/Register.php?success_id=\" . $success_id . \"\");\n+    header(\"Location: ../User/Register.php\");\n \n     $conn->close();\n ?>\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1680394022643,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -258,26 +258,9 @@\n       WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n       // if the user is registered\n       if ($usercheck -> num_rows > 0){\n         \n-          // checking to see if sign up is complete\n-          if ($result) {\n-            $success_id = 1; // successful signup\n-          } else {\n-            $success_id = 5; // something went wrong\n-            echo \"<script>alert('Oops! Something went wrong, please check again or contact us!')</script>\";\n-          }\n-        } else {\n-          $success_id = 4;\n-          echo \"<script>alert('Two password doesn't match!')</script>\";\n-        }\n-      } else {\n-        $success_id = 3;\n-        echo \"<script>alert('Phone number already exists!')</script>\";\n-      }\n-    } else {\n-      $success_id = 2;\n-      echo \"<script>alert('Username already exists!')</script>\";\n+        \n     }\n     header(\"Location: ../User/Register.php\");\n \n     $conn->close();\n"
                },
                {
                    "date": 1680394028018,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -260,8 +260,11 @@\n       if ($usercheck -> num_rows > 0){\n         \n         \n     }\n+    else{\n+      \n+    }\n     header(\"Location: ../User/Register.php\");\n \n     $conn->close();\n ?>\n"
                },
                {
                    "date": 1680394037741,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,10 +261,10 @@\n         \n         \n     }\n     else{\n-      \n-    }\n+        \n+    };\n     header(\"Location: ../User/Register.php\");\n \n     $conn->close();\n ?>\n"
                },
                {
                    "date": 1680394058503,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -258,14 +258,14 @@\n       WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n       // if the user is registered\n       if ($usercheck -> num_rows > 0){\n         \n-        \n+      header(\"Location: ../User/Register.php\");\n     }\n     else{\n         \n     };\n-    header(\"Location: ../User/Register.php\");\n+    \n \n     $conn->close();\n ?>\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1680394063829,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,9 @@\n         \n       header(\"Location: ../User/Register.php\");\n     }\n     else{\n-        \n+      \n     };\n     \n \n     $conn->close();\n"
                },
                {
                    "date": 1680394076292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -260,9 +260,9 @@\n       if ($usercheck -> num_rows > 0){\n         \n       header(\"Location: ../User/Register.php\");\n     }\n-    else{\n+    else{ //if the user is NOT registerd\n       \n     };\n     \n \n"
                },
                {
                    "date": 1680394083544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -258,12 +258,12 @@\n       WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n       // if the user is registered\n       if ($usercheck -> num_rows > 0){\n         \n-      header(\"Location: ../User/Register.php\");\n+      \n     }\n     else{ //if the user is NOT registerd\n-      \n+      header(\"Location: ../User/Register.php\");\n     };\n     \n \n     $conn->close();\n"
                },
                {
                    "date": 1680394119485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,8 +261,9 @@\n         \n       \n     }\n     else{ //if the user is NOT registerd\n+      echo \"<script></script>\"\n       header(\"Location: ../User/Register.php\");\n     };\n     \n \n"
                },
                {
                    "date": 1680394170621,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,9 @@\n         \n       \n     }\n     else{ //if the user is NOT registerd\n-      echo \"<script></script>\"\n+      echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n       header(\"Location: ../User/Register.php\");\n     };\n     \n \n"
                },
                {
                    "date": 1680394188663,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,18 +239,8 @@\n \n     // Form information\n     $userName = $_POST['username'];\n     $passwd = $_POST['password'];\n-\n-    $success_id = 0;\n-    // 0 = default\n-    // 1 = sucess, redirect to Login\n-    // 2 = already signed up\n-    // 3 = username is taken\n-    // 4 = password doesn't match\n-    // 5 = something went wrong\n-\n-\n       //checking if username is taken\n       $usercheck = $mysqli->query(\"\n       SELECT * FROM `Paccount`\n       WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n"
                },
                {
                    "date": 1680394224433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,8 +239,9 @@\n \n     // Form information\n     $userName = $_POST['username'];\n     $passwd = $_POST['password'];\n+    \n       //checking if username is taken\n       $usercheck = $mysqli->query(\"\n       SELECT * FROM `Paccount`\n       WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n@@ -258,5 +259,6 @@\n     \n \n     $conn->close();\n ?>\n+\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1680394236558,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,8 +252,9 @@\n         \n       \n     }\n     else{ //if the user is NOT registerd\n+      $conn->close();\n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n       header(\"Location: ../User/Register.php\");\n     };\n     \n"
                },
                {
                    "date": 1680394241922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,17 +249,17 @@\n       WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n       // if the user is registered\n       if ($usercheck -> num_rows > 0){\n         \n-      \n+        $conn->close();\n     }\n     else{ //if the user is NOT registerd\n       $conn->close();\n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n       header(\"Location: ../User/Register.php\");\n     };\n     \n \n-    $conn->close();\n+    \n ?>\n \n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1680394291694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,9 +234,9 @@\n     // Check connection\n     if ($mysqli -> connect_errno) {\n       echo \"Failed to connect to MySQL: \" . $mysqli -> connect_error;\n       exit();\n-    }\n+    };\n \n     // Form information\n     $userName = $_POST['username'];\n     $passwd = $_POST['password'];\n"
                },
                {
                    "date": 1680394297579,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,9 +255,9 @@\n     else{ //if the user is NOT registerd\n       $conn->close();\n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n       header(\"Location: ../User/Register.php\");\n-    };\n+    }\n     \n \n     \n ?>\n"
                },
                {
                    "date": 1680394309524,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -254,10 +254,10 @@\n     }\n     else{ //if the user is NOT registerd\n       $conn->close();\n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n-      header(\"Location: ../User/Register.php\");\n-    }\n+      header(\"Location: ./User/Register.php\");\n+    };\n     \n \n     \n ?>\n"
                },
                {
                    "date": 1680394322561,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -254,9 +254,8 @@\n     }\n     else{ //if the user is NOT registerd\n       $conn->close();\n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n-      header(\"Location: ./User/Register.php\");\n     };\n     \n \n     \n"
                },
                {
                    "date": 1680394346477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,19 +210,8 @@\n     <div class=\"u-clearfix u-sheet u-valign-middle u-sheet-1\">\n       <p class=\"u-small-text u-text u-text-variant u-text-1\">2023 @Yuan-Hsuan Lin </p>\n     </div>\n   </footer>\n-  <section class=\"u-backlink u-clearfix u-grey-80\">\n-    <a class=\"u-link\" href=\"https://nicepage.com/website-templates\" target=\"_blank\">\n-      <span>Website Templates</span>\n-    </a>\n-    <p class=\"u-text\">\n-      <span>created with</span>\n-    </p>\n-    <a class=\"u-link\" href=\"\" target=\"_blank\">\n-      <span>Website Builder Software</span>\n-    </a>.\n-  </section>\n \n </body>\n <?php\n   if(isset($_POST[\"submit\"])) {\n"
                },
                {
                    "date": 1680394358923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,6 +248,4 @@\n     \n \n     \n ?>\n-\n-</html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1680394421910,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,4 +248,6 @@\n     \n \n     \n ?>\n+\n+</html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1680394453870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -246,8 +246,8 @@\n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n     };\n     \n \n-    \n+  }\n ?>\n \n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1680394472413,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,13 +241,12 @@\n         \n         $conn->close();\n     }\n     else{ //if the user is NOT registerd\n-      $conn->close();\n+      \n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n     };\n-    \n-\n+    $conn->close();\n   }\n ?>\n \n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1680394478576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,12 +235,11 @@\n       SELECT * FROM `Paccount`\n       WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n       SELECT * FROM `Daccount` \n       WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n-      // if the user is registered\n-      if ($usercheck -> num_rows > 0){\n+      \n+      if ($usercheck -> num_rows > 0){// if the user is registered\n         \n-        $conn->close();\n     }\n     else{ //if the user is NOT registerd\n       \n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n"
                },
                {
                    "date": 1680394498082,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -229,16 +229,16 @@\n     // Form information\n     $userName = $_POST['username'];\n     $passwd = $_POST['password'];\n     \n-      //checking if username is taken\n-      $usercheck = $mysqli->query(\"\n-      SELECT * FROM `Paccount`\n-      WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n-      SELECT * FROM `Daccount` \n-      WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n-      \n-      if ($usercheck -> num_rows > 0){// if the user is registered\n+    //checking if username is taken\n+    $usercheck = $mysqli->query(\"\n+    SELECT * FROM `Paccount`\n+    WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n+    SELECT * FROM `Daccount` \n+    WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n+    \n+    if ($usercheck -> num_rows > 0){// if the user is registered\n         \n     }\n     else{ //if the user is NOT registerd\n       \n"
                },
                {
                    "date": 1680394551146,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -237,9 +237,9 @@\n     SELECT * FROM `Daccount` \n     WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n     \n     if ($usercheck -> num_rows > 0){// if the user is registered\n-        \n+      echo \"<script>alert('Welcome back!'.{$}.)</script>\";\n     }\n     else{ //if the user is NOT registerd\n       \n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n"
                },
                {
                    "date": 1680394591803,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -231,11 +231,11 @@\n     $passwd = $_POST['password'];\n     \n     //checking if username is taken\n     $usercheck = $mysqli->query(\"\n-    SELECT * FROM `Paccount`\n+    SELECT `firstName`, `lastName` FROM `Paccount`\n     WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n-    SELECT * FROM `Daccount` \n+    SELECT `firstName`, `lastName` FROM `Daccount` \n     WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n     \n     if ($usercheck -> num_rows > 0){// if the user is registered\n       echo \"<script>alert('Welcome back!'.{$}.)</script>\";\n"
                },
                {
                    "date": 1680394743830,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -237,8 +237,9 @@\n     SELECT `firstName`, `lastName` FROM `Daccount` \n     WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n     \n     if ($usercheck -> num_rows > 0){// if the user is registered\n+      $row = mysqli_fetch_assoc($result);\n       echo \"<script>alert('Welcome back!'.{$}.)</script>\";\n     }\n     else{ //if the user is NOT registerd\n       \n"
                },
                {
                    "date": 1680394764188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,17 +230,17 @@\n     $userName = $_POST['username'];\n     $passwd = $_POST['password'];\n     \n     //checking if username is taken\n-    $usercheck = $mysqli->query(\"\n+    $result = $mysqli->query(\"\n     SELECT `firstName`, `lastName` FROM `Paccount`\n     WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n     SELECT `firstName`, `lastName` FROM `Daccount` \n     WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n     \n-    if ($usercheck -> num_rows > 0){// if the user is registered\n+    if ($result -> num_rows > 0){// if the user is registered\n       $row = mysqli_fetch_assoc($result);\n-      echo \"<script>alert('Welcome back!'.{$}.)</script>\";\n+      echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n     }\n     else{ //if the user is NOT registerd\n       \n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n"
                },
                {
                    "date": 1680394814652,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,8 +239,9 @@\n     \n     if ($result -> num_rows > 0){// if the user is registered\n       $row = mysqli_fetch_assoc($result);\n       echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n+      if \n     }\n     else{ //if the user is NOT registerd\n       \n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n"
                },
                {
                    "date": 1680394823131,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,10 +238,10 @@\n     WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n     \n     if ($result -> num_rows > 0){// if the user is registered\n       $row = mysqli_fetch_assoc($result);\n+      if(){};\n       echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n-      if \n     }\n     else{ //if the user is NOT registerd\n       \n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n"
                },
                {
                    "date": 1680394851227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,9 +238,14 @@\n     WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n     \n     if ($result -> num_rows > 0){// if the user is registered\n       $row = mysqli_fetch_assoc($result);\n-      if(){};\n+      if($_POST[\"remember_me\"]=='1' || $_POST[\"remember_me\"]=='on')\n+                    {\n+                    $hour = time() + 3600 * 24 * 30;\n+                    setcookie('username', $login, $hour);\n+                         setcookie('password', $password, $hour);\n+                    }\n       echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n     }\n     else{ //if the user is NOT registerd\n       \n"
                },
                {
                    "date": 1680394856514,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,13 +239,13 @@\n     \n     if ($result -> num_rows > 0){// if the user is registered\n       $row = mysqli_fetch_assoc($result);\n       if($_POST[\"remember_me\"]=='1' || $_POST[\"remember_me\"]=='on')\n-                    {\n-                    $hour = time() + 3600 * 24 * 30;\n-                    setcookie('username', $login, $hour);\n-                         setcookie('password', $password, $hour);\n-                    }\n+        {\n+        $hour = time() + 3600 * 24 * 30;\n+        setcookie('username', $login, $hour);\n+             setcookie('password', $password, $hour);\n+        }\n       echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n     }\n     else{ //if the user is NOT registerd\n       \n"
                },
                {
                    "date": 1680394882198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,13 +239,13 @@\n     \n     if ($result -> num_rows > 0){// if the user is registered\n       $row = mysqli_fetch_assoc($result);\n       if($_POST[\"remember_me\"]=='1' || $_POST[\"remember_me\"]=='on')\n-        {\n-        $hour = time() + 3600 * 24 * 30;\n-        setcookie('username', $login, $hour);\n-             setcookie('password', $password, $hour);\n-        }\n+      {\n+      $hour = time() + 3600 * 24 * 30;\n+      setcookie('{$username}', $login, $hour);\n+           setcookie('password', $password, $hour);\n+      }\n       echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n     }\n     else{ //if the user is NOT registerd\n       \n"
                },
                {
                    "date": 1680394907607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,9 +241,9 @@\n       $row = mysqli_fetch_assoc($result);\n       if($_POST[\"remember_me\"]=='1' || $_POST[\"remember_me\"]=='on')\n       {\n       $hour = time() + 3600 * 24 * 30;\n-      setcookie('{$username}', $login, $hour);\n+      setcookie('username', $login, $hour);\n            setcookie('password', $password, $hour);\n       }\n       echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n     }\n"
                },
                {
                    "date": 1680394921628,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n       echo \"Failed to connect to MySQL: \" . $mysqli -> connect_error;\n       exit();\n     };\n \n-    // Form information\n+    // User information\n     $userName = $_POST['username'];\n     $passwd = $_POST['password'];\n     \n     //checking if username is taken\n@@ -241,10 +241,10 @@\n       $row = mysqli_fetch_assoc($result);\n       if($_POST[\"remember_me\"]=='1' || $_POST[\"remember_me\"]=='on')\n       {\n       $hour = time() + 3600 * 24 * 30;\n-      setcookie('username', $login, $hour);\n-           setcookie('password', $password, $hour);\n+      setcookie('username', $userName, $hour);\n+           setcookie('password', $passwd, $hour);\n       }\n       echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n     }\n     else{ //if the user is NOT registerd\n"
                },
                {
                    "date": 1680394951191,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -186,9 +186,9 @@\n                 <input type=\"text\" placeholder=\"Enter your Password\" id=\"password-5b0a\" name=\"password\"\n                   class=\"u-border-2 u-border-white u-input u-input-rectangle u-radius-43 u-input-2\" required=\"\">\n               </div>\n               <div class=\"u-form-checkbox u-form-group\">\n-                <input type=\"checkbox\" id=\"checkbox-5b0a\" name=\"remember\" value=\"On\" class=\"u-field-input\">\n+                <input type=\"checkbox\" id=\"checkbox-5b0a\" name=\"remember_me\" value=\"On\" class=\"u-field-input\">\n                 <label for=\"checkbox-5b0a\" class=\"u-field-label\" style=\"font-size: 1.25rem;\">Remember me</label>\n               </div>\n               <div class=\"u-align-left u-form-group u-form-submit\">\n                 <a href=\"#\"\n"
                },
                {
                    "date": 1680394965729,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -186,9 +186,9 @@\n                 <input type=\"text\" placeholder=\"Enter your Password\" id=\"password-5b0a\" name=\"password\"\n                   class=\"u-border-2 u-border-white u-input u-input-rectangle u-radius-43 u-input-2\" required=\"\">\n               </div>\n               <div class=\"u-form-checkbox u-form-group\">\n-                <input type=\"checkbox\" id=\"checkbox-5b0a\" name=\"remember_me\" value=\"On\" class=\"u-field-input\">\n+                <input type=\"checkbox\" id=\"remember_me\" name=\"remember_me\" value=\"On\" class=\"u-field-input\">\n                 <label for=\"checkbox-5b0a\" class=\"u-field-label\" style=\"font-size: 1.25rem;\">Remember me</label>\n               </div>\n               <div class=\"u-align-left u-form-group u-form-submit\">\n                 <a href=\"#\"\n"
                },
                {
                    "date": 1680394995423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -232,9 +232,9 @@\n     \n     //checking if username is taken\n     $result = $mysqli->query(\"\n     SELECT `firstName`, `lastName` FROM `Paccount`\n-    WHERE `username` = 'sarahlee' AND `password`= 'sarah112233';\n+    WHERE `username` = '{$userName}' AND `password`= 'sarah112233';\n     SELECT `firstName`, `lastName` FROM `Daccount` \n     WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n     \n     if ($result -> num_rows > 0){// if the user is registered\n"
                },
                {
                    "date": 1680395002220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -232,9 +232,9 @@\n     \n     //checking if username is taken\n     $result = $mysqli->query(\"\n     SELECT `firstName`, `lastName` FROM `Paccount`\n-    WHERE `username` = '{$userName}' AND `password`= 'sarah112233';\n+    WHERE `username` = '{$userName}' AND `password`= '{$passwd}';\n     SELECT `firstName`, `lastName` FROM `Daccount` \n     WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n     \n     if ($result -> num_rows > 0){// if the user is registered\n"
                },
                {
                    "date": 1680395011172,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,9 +234,9 @@\n     $result = $mysqli->query(\"\n     SELECT `firstName`, `lastName` FROM `Paccount`\n     WHERE `username` = '{$userName}' AND `password`= '{$passwd}';\n     SELECT `firstName`, `lastName` FROM `Daccount` \n-    WHERE `username` = 'sarahlee'  AND `password` ='sarah112233';\");\n+    WHERE `username` = '{$userName}'  AND `password` ='{$passwd}';\");\n     \n     if ($result -> num_rows > 0){// if the user is registered\n       $row = mysqli_fetch_assoc($result);\n       if($_POST[\"remember_me\"]=='1' || $_POST[\"remember_me\"]=='on')\n"
                },
                {
                    "date": 1680395119846,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,8 +245,9 @@\n       setcookie('username', $userName, $hour);\n            setcookie('password', $passwd, $hour);\n       }\n       echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n+      header(\"Location: ../index.html=\" . $success_id . \"\");\n     }\n     else{ //if the user is NOT registerd\n       \n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n"
                },
                {
                    "date": 1680395135909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,9 +245,9 @@\n       setcookie('username', $userName, $hour);\n            setcookie('password', $passwd, $hour);\n       }\n       echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n-      header(\"Location: ../index.html=\" . $success_id . \"\");\n+      header(\"Location: ../index.html?user=\" . $success_id . \"\");\n     }\n     else{ //if the user is NOT registerd\n       \n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n"
                },
                {
                    "date": 1680395143300,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,9 +245,9 @@\n       setcookie('username', $userName, $hour);\n            setcookie('password', $passwd, $hour);\n       }\n       echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n-      header(\"Location: ../index.html?user=\" . $success_id . \"\");\n+      header(\"Location: ../index.html\");\n     }\n     else{ //if the user is NOT registerd\n       \n       echo \"<script>alert('The log-in information doesn't valid, please check again!')</script>\";\n"
                },
                {
                    "date": 1680395172837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   <meta data-intl-tel-input-cdn-path=\"intlTelInput/\">\n </head>\n \n <body class=\"u-body u-xl-mode\" data-lang=\"en\">\n-  <script>\n+  <!-- <script>\n     const queryString = window.location.search;\n     const urlParams = new URLSearchParams(queryString);\n     const success_id = urlParams.get('success_id');\n     const heading = document.getElementById('status');\n@@ -37,9 +37,9 @@\n       heading.innerHTML = 'You must be logged in to view this page.';\n     } else if (success_id == 5) {\n       heading.innerHTML = 'You have been successfully logged out.';\n     }\n-  </script>\n+  </script> -->\n   <header class=\"u-header\" id=\"sec-b883\" data-animation-name=\"\" data-animation-duration=\"0\" data-animation-delay=\"0\"\n     data-animation-direction=\"\">\n     <div class=\"u-clearfix u-sheet u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1\">\n       <nav class=\"u-hidden-lg u-hidden-xl u-menu u-menu-one-level u-offcanvas u-menu-1\">\n"
                },
                {
                    "date": 1680395195507,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n         <div class=\"u-container-layout u-container-layout-1\"><span\n             class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/dark_user.png\" alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n-            <form action=\"#\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n+            <form action=\"Log-in.php\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n               source=\"custom\" name=\"form-3\" style=\"padding: 10px;\">\n               <div class=\"u-form-group u-form-name\">\n                 <label for=\"username-5b0a\" class=\"u-form-control-hidden u-label u-label-1\"></label>\n                 <input type=\"text\" placeholder=\"Enter your Username\" id=\"username-5b0a\" name=\"username\"\n"
                },
                {
                    "date": 1680395215696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n         <div class=\"u-container-layout u-container-layout-1\"><span\n             class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/dark_user.png\" alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n-            <form action=\"Log-in.php\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n+            <form action=\"./Log-in.php\" method=\"POST\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n               source=\"custom\" name=\"form-3\" style=\"padding: 10px;\">\n               <div class=\"u-form-group u-form-name\">\n                 <label for=\"username-5b0a\" class=\"u-form-control-hidden u-label u-label-1\"></label>\n                 <input type=\"text\" placeholder=\"Enter your Username\" id=\"username-5b0a\" name=\"username\"\n"
                },
                {
                    "date": 1680395294593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n         <div class=\"u-container-layout u-container-layout-1\"><span\n             class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/dark_user.png\" alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n-            <form action=\"./Log-in.php\" method=\"POST\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n+            <form action=\"#\" method=\"POST\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n               source=\"custom\" name=\"form-3\" style=\"padding: 10px;\">\n               <div class=\"u-form-group u-form-name\">\n                 <label for=\"username-5b0a\" class=\"u-form-control-hidden u-label u-label-1\"></label>\n                 <input type=\"text\" placeholder=\"Enter your Username\" id=\"username-5b0a\" name=\"username\"\n"
                },
                {
                    "date": 1680395370029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,9 +214,9 @@\n \n </body>\n <?php\n   if(isset($_POST[\"submit\"])) {\n-\n+    echo \"<script>alert('loading')</script>\";\n     mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n     // Create connection\n     $mysqli = new mysqli(\"localhost\",\"root\",\"hsuanmacair\",\"oms\", 3306);\n \n"
                },
                {
                    "date": 1680395380802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,9 +244,9 @@\n       $hour = time() + 3600 * 24 * 30;\n       setcookie('username', $userName, $hour);\n            setcookie('password', $passwd, $hour);\n       }\n-      echo \"<script>alert('Welcome back!'.{$row['firstName']}.)</script>\";\n+      echo \"<script>alert('Welcome back!'.{$row['firstName']})</script>\";\n       header(\"Location: ../index.html\");\n     }\n     else{ //if the user is NOT registerd\n       \n"
                },
                {
                    "date": 1680395460399,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -229,8 +229,9 @@\n     // User information\n     $userName = $_POST['username'];\n     $passwd = $_POST['password'];\n     \n+    \n     //checking if username is taken\n     $result = $mysqli->query(\"\n     SELECT `firstName`, `lastName` FROM `Paccount`\n     WHERE `username` = '{$userName}' AND `password`= '{$passwd}';\n"
                },
                {
                    "date": 1680395466811,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -194,9 +194,8 @@\n                 <a href=\"#\"\n                   class=\"u-border-none u-btn u-btn-round u-btn-submit u-button-style u-palette-1-base u-radius-50 u-btn-1\">Login</a>\n                 <input type=\"submit\" value=\"submit\" class=\"u-form-control-hidden\">\n               </div>\n-              <input type=\"hidden\" value=\"\" name=\"recaptchaResponse\">\n             </form>\n           </div>\n           <a href=\"./Findback.php\"\n             class=\"u-border-1 u-border-active-palette-2-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-btn u-button-style u-login-control u-login-forgot-password u-none u-text-palette-1-dark-1 u-btn-2\">Forgot\n"
                },
                {
                    "date": 1680395480117,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,13 +189,12 @@\n               <div class=\"u-form-checkbox u-form-group\">\n                 <input type=\"checkbox\" id=\"remember_me\" name=\"remember_me\" value=\"On\" class=\"u-field-input\">\n                 <label for=\"checkbox-5b0a\" class=\"u-field-label\" style=\"font-size: 1.25rem;\">Remember me</label>\n               </div>\n-              <div class=\"u-align-left u-form-group u-form-submit\">\n-                <a href=\"#\"\n-                  class=\"u-border-none u-btn u-btn-round u-btn-submit u-button-style u-palette-1-base u-radius-50 u-btn-1\">Login</a>\n-                <input type=\"submit\" value=\"submit\" class=\"u-form-control-hidden\">\n-              </div>\n+              <div class=\"u-align-center u-form-group u-form-submit\">\n+            <input type=\"submit\" name=\"submit\" value=\"submit\" class=\"u-btn u-btn-submit u-button-style u-btn-1\"></input>\n+            <!-- <button type=\"submit\" value=\"submit\" class=\"u-form-control-hidden\"> -->\n+          </div>\n             </form>\n           </div>\n           <a href=\"./Findback.php\"\n             class=\"u-border-1 u-border-active-palette-2-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-btn u-button-style u-login-control u-login-forgot-password u-none u-text-palette-1-dark-1 u-btn-2\">Forgot\n"
                },
                {
                    "date": 1680395504974,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -190,9 +190,9 @@\n                 <input type=\"checkbox\" id=\"remember_me\" name=\"remember_me\" value=\"On\" class=\"u-field-input\">\n                 <label for=\"checkbox-5b0a\" class=\"u-field-label\" style=\"font-size: 1.25rem;\">Remember me</label>\n               </div>\n               <div class=\"u-align-center u-form-group u-form-submit\">\n-            <input type=\"submit\" name=\"submit\" value=\"submit\" class=\"u-btn u-btn-submit u-button-style u-btn-1\"></input>\n+            <input type=\"submit\" name=\"submit\" value=\"Login\" class=\"u-btn u-btn-submit u-button-style u-btn-1\"></input>\n             <!-- <button type=\"submit\" value=\"submit\" class=\"u-form-control-hidden\"> -->\n           </div>\n             </form>\n           </div>\n"
                },
                {
                    "date": 1680395511428,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -211,9 +211,9 @@\n   </footer>\n \n </body>\n <?php\n-  if(isset($_POST[\"submit\"])) {\n+  if(isset($_POST[\"Login\"])) {\n     echo \"<script>alert('loading')</script>\";\n     mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n     // Create connection\n     $mysqli = new mysqli(\"localhost\",\"root\",\"hsuanmacair\",\"oms\", 3306);\n"
                },
                {
                    "date": 1680395546574,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n           <div class=\"u-black u-menu-overlay u-opacity u-opacity-70\"></div>\n         </div>\n       </nav><span\n         class=\"u-file-icon u-hidden-md u-hidden-sm u-hidden-xs u-hover-feature u-icon u-text-palette-1-dark-2 u-icon-1\"\n-        data-href=\"Register.html\" title=\"Register\"><img src=\"../images/signup.png\" alt=\"\"></span>\n+        data-href=\"Register.php\" title=\"Register\"><img src=\"../images/signup.png\" alt=\"\"></span>\n     </div>\n   </header>\n   <section class=\"u-clearfix u-section-1\" id=\"sec-980c\">\n     <div class=\"u-clearfix u-sheet u-valign-middle u-sheet-1\">\n"
                },
                {
                    "date": 1680395579586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -190,9 +190,9 @@\n                 <input type=\"checkbox\" id=\"remember_me\" name=\"remember_me\" value=\"On\" class=\"u-field-input\">\n                 <label for=\"checkbox-5b0a\" class=\"u-field-label\" style=\"font-size: 1.25rem;\">Remember me</label>\n               </div>\n               <div class=\"u-align-center u-form-group u-form-submit\">\n-            <input type=\"submit\" name=\"submit\" value=\"Login\" class=\"u-btn u-btn-submit u-button-style u-btn-1\"></input>\n+            <input type=\"submit\" name=\"login\" value=\"login\" class=\"u-btn u-btn-submit u-button-style u-btn-1\"></input>\n             <!-- <button type=\"submit\" value=\"submit\" class=\"u-form-control-hidden\"> -->\n           </div>\n             </form>\n           </div>\n"
                },
                {
                    "date": 1680395589161,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -190,9 +190,9 @@\n                 <input type=\"checkbox\" id=\"remember_me\" name=\"remember_me\" value=\"On\" class=\"u-field-input\">\n                 <label for=\"checkbox-5b0a\" class=\"u-field-label\" style=\"font-size: 1.25rem;\">Remember me</label>\n               </div>\n               <div class=\"u-align-center u-form-group u-form-submit\">\n-            <input type=\"submit\" name=\"login\" value=\"login\" class=\"u-btn u-btn-submit u-button-style u-btn-1\"></input>\n+            <input type=\"login\" name=\"login\" value=\"login\" class=\"u-btn u-btn-submit u-button-style u-btn-1\"></input>\n             <!-- <button type=\"submit\" value=\"submit\" class=\"u-form-control-hidden\"> -->\n           </div>\n             </form>\n           </div>\n@@ -211,9 +211,9 @@\n   </footer>\n \n </body>\n <?php\n-  if(isset($_POST[\"Login\"])) {\n+  if(isset($_POST[\"login\"])) {\n     echo \"<script>alert('loading')</script>\";\n     mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n     // Create connection\n     $mysqli = new mysqli(\"localhost\",\"root\",\"hsuanmacair\",\"oms\", 3306);\n"
                },
                {
                    "date": 1680396158730,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,10 +43,10 @@\n     data-animation-direction=\"\">\n     <div class=\"u-clearfix u-sheet u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1\">\n       <nav class=\"u-hidden-lg u-hidden-xl u-menu u-menu-one-level u-offcanvas u-menu-1\">\n         <div class=\"menu-collapse\" style=\"font-size: 1.875rem; font-weight: 700; letter-spacing: 0px;\">\n-          <a class=\"u-button-style u-custom-border u-custom-border-color u-custom-borders u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link\"\n-            href=\"#\" style=\"font-size: calc(1em + 18px); padding: 9px 8px;\">\n+          <!-- <a class=\"u-button-style u-custom-border u-custom-border-color u-custom-borders u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link\"\n+            href=\"#\" style=\"font-size: calc(1em + 18px); padding: 9px 8px;\"> -->\n             <svg class=\"u-svg-link\" viewBox=\"0 0 24 24\">\n               <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-2bcb\"></use>\n             </svg>\n             <svg class=\"u-svg-content\" version=\"1.1\" id=\"svg-2bcb\" viewBox=\"0 0 16 16\" x=\"0px\" y=\"0px\"\n"
                },
                {
                    "date": 1680396180161,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,10 +43,8 @@\n     data-animation-direction=\"\">\n     <div class=\"u-clearfix u-sheet u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1\">\n       <nav class=\"u-hidden-lg u-hidden-xl u-menu u-menu-one-level u-offcanvas u-menu-1\">\n         <div class=\"menu-collapse\" style=\"font-size: 1.875rem; font-weight: 700; letter-spacing: 0px;\">\n-          <!-- <a class=\"u-button-style u-custom-border u-custom-border-color u-custom-borders u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link\"\n-            href=\"#\" style=\"font-size: calc(1em + 18px); padding: 9px 8px;\"> -->\n             <svg class=\"u-svg-link\" viewBox=\"0 0 24 24\">\n               <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-2bcb\"></use>\n             </svg>\n             <svg class=\"u-svg-content\" version=\"1.1\" id=\"svg-2bcb\" viewBox=\"0 0 16 16\" x=\"0px\" y=\"0px\"\n"
                },
                {
                    "date": 1680396201113,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -172,9 +172,9 @@\n             class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/dark_user.png\" alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n             <form action=\"#\" method=\"POST\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n-              source=\"custom\" name=\"form-3\" style=\"padding: 10px;\">\n+              source=\"custom\" style=\"padding: 10px;\">\n               <div class=\"u-form-group u-form-name\">\n                 <label for=\"username-5b0a\" class=\"u-form-control-hidden u-label u-label-1\"></label>\n                 <input type=\"text\" placeholder=\"Enter your Username\" id=\"username-5b0a\" name=\"username\"\n                   class=\"u-border-2 u-border-white u-input u-input-rectangle u-radius-43 u-input-1\" required=\"\">\n"
                },
                {
                    "date": 1680396229986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,9 @@\n   <header class=\"u-header\" id=\"sec-b883\" data-animation-name=\"\" data-animation-duration=\"0\" data-animation-delay=\"0\"\n     data-animation-direction=\"\">\n     <div class=\"u-clearfix u-sheet u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1\">\n       <nav class=\"u-hidden-lg u-hidden-xl u-menu u-menu-one-level u-offcanvas u-menu-1\">\n-        <div class=\"menu-collapse\" style=\"font-size: 1.875rem; font-weight: 700; letter-spacing: 0px;\">\n+        <div class=\"menu-collapse\" style=\"font-size: 1.875rem; font-weight: 700; letter-spacing: 0px;\"> -->\n             <svg class=\"u-svg-link\" viewBox=\"0 0 24 24\">\n               <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-2bcb\"></use>\n             </svg>\n             <svg class=\"u-svg-content\" version=\"1.1\" id=\"svg-2bcb\" viewBox=\"0 0 16 16\" x=\"0px\" y=\"0px\"\n@@ -172,9 +172,9 @@\n             class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/dark_user.png\" alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n             <form action=\"#\" method=\"POST\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n-              source=\"custom\" style=\"padding: 10px;\">\n+              source=\"custom\" name=\"form-3\" style=\"padding: 10px;\">\n               <div class=\"u-form-group u-form-name\">\n                 <label for=\"username-5b0a\" class=\"u-form-control-hidden u-label u-label-1\"></label>\n                 <input type=\"text\" placeholder=\"Enter your Username\" id=\"username-5b0a\" name=\"username\"\n                   class=\"u-border-2 u-border-white u-input u-input-rectangle u-radius-43 u-input-1\" required=\"\">\n"
                },
                {
                    "date": 1680396235614,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,11 @@\n   <header class=\"u-header\" id=\"sec-b883\" data-animation-name=\"\" data-animation-duration=\"0\" data-animation-delay=\"0\"\n     data-animation-direction=\"\">\n     <div class=\"u-clearfix u-sheet u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1\">\n       <nav class=\"u-hidden-lg u-hidden-xl u-menu u-menu-one-level u-offcanvas u-menu-1\">\n-        <div class=\"menu-collapse\" style=\"font-size: 1.875rem; font-weight: 700; letter-spacing: 0px;\"> -->\n+        <div class=\"menu-collapse\" style=\"font-size: 1.875rem; font-weight: 700; letter-spacing: 0px;\">\n+          <a class=\"u-button-style u-custom-border u-custom-border-color u-custom-borders u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link\"\n+            href=\"#\" style=\"font-size: calc(1em + 18px); padding: 9px 8px;\">\n             <svg class=\"u-svg-link\" viewBox=\"0 0 24 24\">\n               <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-2bcb\"></use>\n             </svg>\n             <svg class=\"u-svg-content\" version=\"1.1\" id=\"svg-2bcb\" viewBox=\"0 0 16 16\" x=\"0px\" y=\"0px\"\n"
                },
                {
                    "date": 1680396264007,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -174,9 +174,9 @@\n             class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/dark_user.png\" alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n             <form action=\"#\" method=\"POST\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n-              source=\"custom\" name=\"form-3\" style=\"padding: 10px;\">\n+               name=\"form-3\" style=\"padding: 10px;\">\n               <div class=\"u-form-group u-form-name\">\n                 <label for=\"username-5b0a\" class=\"u-form-control-hidden u-label u-label-1\"></label>\n                 <input type=\"text\" placeholder=\"Enter your Username\" id=\"username-5b0a\" name=\"username\"\n                   class=\"u-border-2 u-border-white u-input u-input-rectangle u-radius-43 u-input-1\" required=\"\">\n"
                },
                {
                    "date": 1680396420833,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -174,9 +174,9 @@\n             class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/dark_user.png\" alt=\"\"></span>\n           <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n           <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n             <form action=\"#\" method=\"POST\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n-               name=\"form-3\" style=\"padding: 10px;\">\n+              source=\"custom\" name=\"form-3\" style=\"padding: 10px;\">\n               <div class=\"u-form-group u-form-name\">\n                 <label for=\"username-5b0a\" class=\"u-form-control-hidden u-label u-label-1\"></label>\n                 <input type=\"text\" placeholder=\"Enter your Username\" id=\"username-5b0a\" name=\"username\"\n                   class=\"u-border-2 u-border-white u-input u-input-rectangle u-radius-43 u-input-1\" required=\"\">\n"
                },
                {
                    "date": 1680396480805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -190,9 +190,9 @@\n                 <input type=\"checkbox\" id=\"remember_me\" name=\"remember_me\" value=\"On\" class=\"u-field-input\">\n                 <label for=\"checkbox-5b0a\" class=\"u-field-label\" style=\"font-size: 1.25rem;\">Remember me</label>\n               </div>\n               <div class=\"u-align-center u-form-group u-form-submit\">\n-            <input type=\"login\" name=\"login\" value=\"login\" class=\"u-btn u-btn-submit u-button-style u-btn-1\"></input>\n+            <input type=\"submit\" name=\"login\" value=\"login\" class=\"u-btn u-btn-submit u-button-style u-btn-1\"></input>\n             <!-- <button type=\"submit\" value=\"submit\" class=\"u-form-control-hidden\"> -->\n           </div>\n             </form>\n           </div>\n"
                },
                {
                    "date": 1680396491875,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -211,9 +211,9 @@\n   </footer>\n \n </body>\n <?php\n-  if(isset($_POST[\"login\"])) {\n+  if(isset($_POST[\"submit\"])) {\n     echo \"<script>alert('loading')</script>\";\n     mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n     // Create connection\n     $mysqli = new mysqli(\"localhost\",\"root\",\"hsuanmacair\",\"oms\", 3306);\n"
                }
            ],
            "date": 1680378580601,
            "name": "Commit-0",
            "content": "<?php\n    session_start();\n\n    if (isset($_SESSION['role'])){\n    $usrRole = $_SESSION[\"role\"];\n    $admin = \"admin\";\n    $user = \"user\";\n\n    if ((strcmp($usrRole, $admin)) == 0){\n      header(\"Location:Log-in.php\");\n    }\n\n    if ((strcmp($usrRole, $user)) == 0){\n      header(\"Location:user.php\");\n    }\n\n    session_write_close();\n    }\n?>\n\n<!DOCTYPE html>\n<html style=\"font-size: 16px;\" lang=\"en\">\n\n<head>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta charset=\"utf-8\">\n  <meta name=\"keywords\" content=\"\">\n  <meta name=\"description\" content=\"\">\n  <title>Log in</title>\n  <link rel=\"stylesheet\" href=\"../css/nicepage.css\" media=\"screen\">\n  <link rel=\"stylesheet\" href=\"../css/Log-in.css\" media=\"screen\">\n  <script class=\"u-script\" type=\"text/javascript\" src=\"../js/jquery.js\" defer=\"\"></script>\n  <script class=\"u-script\" type=\"text/javascript\" src=\"../js/nicepage.js\" defer=\"\"></script>\n  <meta name=\"generator\" content=\"Nicepage 5.6.16, nicepage.com\">\n  <link id=\"u-theme-google-font\" rel=\"stylesheet\"\n    href=\"https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i\">\n\n  <script type=\"application/ld+json\">\n    {\n      \"@context\": \"http://schema.org\",\n      \"@type\": \"Organization\",\n      \"name\": \"OMS_v1\",\n      \"logo\": \"../images/Screenshot2023-03-19at12.17.37PM.png\"\n    }\n  </script>\n  <meta name=\"theme-color\" content=\"#93bfcb\">\n  <meta property=\"og:title\" content=\"Log in\">\n  <meta property=\"og:description\" content=\"\">\n  <meta property=\"og:type\" content=\"website\">\n  <meta data-intl-tel-input-cdn-path=\"intlTelInput/\">\n</head>\n\n<body class=\"u-body u-xl-mode\" data-lang=\"en\">\n  <script>\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const success_id = urlParams.get('success_id');\n    const heading = document.getElementById('status');\n    if (success_id == 1) {\n      heading.innerHTML =\n        'Could not find an account associated with that username. Sign up <u><b><a href=\"../html/sign-up.html\">here.</a></b></u>';\n    } else if (success_id == 2) {\n      heading.innerHTML = 'The password entered is incorrect. Please try again.';\n    } else if (success_id == 3) {\n      heading.innerHTML = 'Something went wrong. Please try again later.';\n    } else if (success_id == 4) {\n      heading.innerHTML = 'You must be logged in to view this page.';\n    } else if (success_id == 5) {\n      heading.innerHTML = 'You have been successfully logged out.';\n    }\n  </script>\n  <header class=\"u-header\" id=\"sec-b883\" data-animation-name=\"\" data-animation-duration=\"0\" data-animation-delay=\"0\"\n    data-animation-direction=\"\">\n    <div class=\"u-clearfix u-sheet u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1\">\n      <nav class=\"u-hidden-lg u-hidden-xl u-menu u-menu-one-level u-offcanvas u-menu-1\">\n        <div class=\"menu-collapse\" style=\"font-size: 1.875rem; font-weight: 700; letter-spacing: 0px;\">\n          <a class=\"u-button-style u-custom-border u-custom-border-color u-custom-borders u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link\"\n            href=\"#\" style=\"font-size: calc(1em + 18px); padding: 9px 8px;\">\n            <svg class=\"u-svg-link\" viewBox=\"0 0 24 24\">\n              <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-2bcb\"></use>\n            </svg>\n            <svg class=\"u-svg-content\" version=\"1.1\" id=\"svg-2bcb\" viewBox=\"0 0 16 16\" x=\"0px\" y=\"0px\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\">\n              <g>\n                <rect y=\"1\" width=\"16\" height=\"2\"></rect>\n                <rect y=\"7\" width=\"16\" height=\"2\"></rect>\n                <rect y=\"13\" width=\"16\" height=\"2\"></rect>\n              </g>\n            </svg>\n          </a>\n        </div>\n        <div class=\"u-custom-menu u-nav-container\">\n          <ul class=\"u-nav u-spacing-20 u-unstyled u-nav-1\">\n            <li class=\"u-nav-item\"><a\n                class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                href=\"../Home.html\" style=\"padding: 10px;\">Home</a>\n            </li>\n            <li class=\"u-nav-item\"><a\n                class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                href=\"../About.html\" style=\"padding: 10px;\">About</a>\n            </li>\n            <li class=\"u-nav-item\"><a\n                class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                href=\"../Contact.html\" style=\"padding: 10px;\">Contact</a>\n            </li>\n            <li class=\"u-nav-item\"><a\n                class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                href=\"Log-in.html\" style=\"padding: 10px;\">Log in</a>\n            </li>\n            <li class=\"u-nav-item\"><a\n                class=\"u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                href=\"Register.html\" style=\"padding: 10px;\">Register</a>\n            </li>\n          </ul>\n        </div>\n        <div class=\"u-custom-menu u-nav-container-collapse\">\n          <div class=\"u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav\">\n            <div class=\"u-inner-container-layout u-sidenav-overflow\">\n              <div class=\"u-menu-close\"></div>\n              <ul class=\"u-align-center u-nav u-popupmenu-items u-spacing-23 u-unstyled u-nav-2\">\n                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Home.html\"\n                    style=\"padding-top: 22px; padding-bottom: 22px;\">Home</a>\n                </li>\n                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../About.html\"\n                    style=\"padding-top: 22px; padding-bottom: 22px;\">About</a>\n                </li>\n                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Contact.html\"\n                    style=\"padding-top: 22px; padding-bottom: 22px;\">Contact</a>\n                </li>\n                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"Log-in.html\"\n                    style=\"padding-top: 22px; padding-bottom: 22px;\">Log in</a>\n                </li>\n                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"Register.html\"\n                    style=\"padding-top: 22px; padding-bottom: 22px;\">Register</a>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div class=\"u-black u-menu-overlay u-opacity u-opacity-70\"></div>\n        </div>\n      </nav>\n      <a href=\"https://nicepage.com/c/testimonials-html-templates\" class=\"u-image u-logo u-image-1\"\n        data-image-width=\"618\" data-image-height=\"58\">\n        <img src=\"../images/Screenshot2023-03-19at12.17.37PM.png\" class=\"u-logo-image u-logo-image-1\">\n      </a>\n      <nav class=\"u-hidden-md u-hidden-sm u-hidden-xs u-menu u-menu-one-level u-offcanvas u-menu-2\">\n        <div class=\"menu-collapse\" style=\"font-size: 2.25rem; letter-spacing: 0px; font-weight: 700;\">\n          <a class=\"u-button-style u-custom-border u-custom-border-color u-custom-borders u-custom-left-right-menu-spacing u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link\"\n            href=\"#\">\n            <svg class=\"u-svg-link\" viewBox=\"0 0 24 24\">\n              <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-1bf5\"></use>\n            </svg>\n            <svg class=\"u-svg-content\" version=\"1.1\" id=\"svg-1bf5\" viewBox=\"0 0 16 16\" x=\"0px\" y=\"0px\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\">\n              <g>\n                <rect y=\"1\" width=\"16\" height=\"2\"></rect>\n                <rect y=\"7\" width=\"16\" height=\"2\"></rect>\n                <rect y=\"13\" width=\"16\" height=\"2\"></rect>\n              </g>\n            </svg>\n          </a>\n        </div>\n        <div class=\"u-nav-container\">\n          <ul class=\"u-nav u-spacing-10 u-unstyled u-nav-3\">\n            <li class=\"u-nav-item\"><a\n                class=\"u-border-no-bottom u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                href=\"../Home.html\" style=\"padding: 26px 34px;\">Home</a>\n            </li>\n            <li class=\"u-nav-item\"><a\n                class=\"u-border-no-bottom u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                href=\"../About.html\" style=\"padding: 26px 34px;\">About</a>\n            </li>\n            <li class=\"u-nav-item\"><a\n                class=\"u-border-no-bottom u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base\"\n                href=\"../Contact.html\" style=\"padding: 26px 34px;\">Contact</a>\n            </li>\n          </ul>\n        </div>\n        <div class=\"u-nav-container-collapse\">\n          <div class=\"u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav\">\n            <div class=\"u-inner-container-layout u-sidenav-overflow\">\n              <div class=\"u-menu-close\"></div>\n              <ul class=\"u-align-center u-nav u-popupmenu-items u-unstyled u-nav-4\">\n                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Home.html\">Home</a>\n                </li>\n                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../About.html\">About</a>\n                </li>\n                <li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"../Contact.html\">Contact</a>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div class=\"u-black u-menu-overlay u-opacity u-opacity-70\"></div>\n        </div>\n      </nav><span\n        class=\"u-file-icon u-hidden-md u-hidden-sm u-hidden-xs u-hover-feature u-icon u-text-palette-1-dark-2 u-icon-1\"\n        data-href=\"Register.html\" title=\"Register\"><img src=\"../images/3033143-7d7b5140.png\" alt=\"\"></span>\n    </div>\n  </header>\n  <section class=\"u-clearfix u-section-1\" id=\"sec-980c\">\n    <div class=\"u-clearfix u-sheet u-valign-middle u-sheet-1\">\n      <div class=\"u-align-center u-container-style u-grey-10 u-group u-radius-50 u-shape-round u-group-1\">\n        <div class=\"u-container-layout u-container-layout-1\"><span\n            class=\"u-file-icon u-icon u-text-palette-1-base u-icon-1\"><img src=\"../images/552721-98e7fb98.png\"\n              alt=\"\"></span>\n          <h3 class=\"u-text u-text-default u-text-1\">User Log In</h3>\n          <div class=\"u-expanded-width u-form u-login-control u-form-1\">\n            <form action=\"#\" class=\"u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form\"\n              source=\"custom\" name=\"form-3\" style=\"padding: 10px;\">\n              <div class=\"u-form-group u-form-name\">\n                <label for=\"username-5b0a\" class=\"u-form-control-hidden u-label u-label-1\"></label>\n                <input type=\"text\" placeholder=\"Enter your Username\" id=\"username-5b0a\" name=\"username\"\n                  class=\"u-border-2 u-border-white u-input u-input-rectangle u-radius-43 u-input-1\" required=\"\">\n              </div>\n              <div class=\"u-form-group u-form-password\">\n                <label for=\"password-5b0a\" class=\"u-form-control-hidden u-label u-label-2\"></label>\n                <input type=\"text\" placeholder=\"Enter your Password\" id=\"password-5b0a\" name=\"password\"\n                  class=\"u-border-2 u-border-white u-input u-input-rectangle u-radius-43 u-input-2\" required=\"\">\n              </div>\n              <div class=\"u-form-checkbox u-form-group\">\n                <input type=\"checkbox\" id=\"checkbox-5b0a\" name=\"remember\" value=\"On\" class=\"u-field-input\">\n                <label for=\"checkbox-5b0a\" class=\"u-field-label\" style=\"font-size: 1.25rem;\">Remember me</label>\n              </div>\n              <div class=\"u-align-left u-form-group u-form-submit\">\n                <a href=\"#\"\n                  class=\"u-border-none u-btn u-btn-round u-btn-submit u-button-style u-palette-1-base u-radius-50 u-btn-1\">Login</a>\n                <input type=\"submit\" value=\"submit\" class=\"u-form-control-hidden\">\n              </div>\n              <input type=\"hidden\" value=\"\" name=\"recaptchaResponse\">\n            </form>\n          </div>\n          <a href=\"\"\n            class=\"u-border-1 u-border-active-palette-2-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-btn u-button-style u-login-control u-login-forgot-password u-none u-text-palette-1-dark-1 u-btn-2\">Forgot\n            password?</a>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <footer class=\"u-align-center u-clearfix u-footer u-grey-80 u-footer\" id=\"sec-5b62\">\n    <div class=\"u-clearfix u-sheet u-valign-middle u-sheet-1\">\n      <p class=\"u-small-text u-text u-text-variant u-text-1\">2023 @Yuan-Hsuan Lin </p>\n    </div>\n  </footer>\n  <section class=\"u-backlink u-clearfix u-grey-80\">\n    <a class=\"u-link\" href=\"https://nicepage.com/website-templates\" target=\"_blank\">\n      <span>Website Templates</span>\n    </a>\n    <p class=\"u-text\">\n      <span>created with</span>\n    </p>\n    <a class=\"u-link\" href=\"\" target=\"_blank\">\n      <span>Website Builder Software</span>\n    </a>.\n  </section>\n\n</body>\n\n</html>"
        }
    ]
}